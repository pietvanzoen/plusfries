"use strict";var ENDPOINT=window.PLSFRS+"/plus",LOCATION=encodeURIComponent(window.location.href),puntzak=document.querySelector("#plusfries"),frites=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return parseInt(puntzak.dataset.counter,10)+n},fritesInc=function(){return puntzak.dataset.counter=frites(1)},fritesDec=function(){return puntzak.dataset.counter=frites(-1)};function onLoad(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;puntzak.dataset.counter=n,puntzak.classList.remove("loading"),fetching=!1}injectStyles("#plusfries{font-size:3rem;position:relative;display:inline-block;cursor:pointer;margin:1rem;transition:opacity .3s ease-in;user-select:none}#plusfries.loading{opacity:0}#plusfries:after{content:attr(data-counter);font-family:Helvetica,Arial;display:block;background:#fcdc4d;width:1.5rem;height:1.5rem;line-height:1.5rem;font-size:.8rem;text-align:center;font-weight:600;color:#333;position:absolute;top:0;right:0;transform:translate3d(40%,-25%,0);border-radius:100%;box-shadow:0 1px 3px #333;transition:transform .2s ease-in-out,opacity .1s ease-in-out;cursor:pointer}#plusfries:hover:after{transform:translate3d(50%,-50%,0)}#plusfries:active:after{opacity:.5}"),puntzak.addEventListener("click",onPlusFry),fetch("".concat(ENDPOINT,"/").concat(LOCATION)).then(function(n){return n.json()}).then(function(n){return n.count}).then(onLoad).catch(function(){return onLoad()});var fetching=!0;function onPlusFry(){if(!fetching){fritesInc(),fetching=!0;var n=new FormData;n.append("location",LOCATION),fetch(ENDPOINT,{method:"POST",body:n}).then(function(n){return n.json()}).then(function(){return fetching=!1}).catch(function(){return fritesDec()&&(fetching=!1)})}}function injectStyles(n){var t=document.createElement("style");t.innerHTML=n,document.body.appendChild(t)}
